<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Data Table from API</title>
    <th:block th:insert="~{/masterpage/masterpage :: assets}"/>
</head>
<body>
<div th:replace="~{/masterpage/masterpage :: menu}"/>
<table id="dataTable">
    <thead>
    <tr>
        <th>ID</th>
        <th>Name</th>
        <!-- F端ge hier weitere Spalten hinzu, je nach den erhaltenen Daten -->
    </tr>
    </thead>
    <tbody id="dataBody">
    <!-- Hier werden die Daten eingef端gt -->
    </tbody>
</table>

<script>
    function createTable(data) {
        const tableBody = document.getElementById('dataBody');

        data.forEach(item => {
            const row = document.createElement('tr');
            const idCell = document.createElement('td');
            idCell.textContent = item.id;
            const nameCell = document.createElement('td');
            nameCell.textContent = item.name;
            // Hier weitere Zellen erstellen und bef端llen, je nach Datenstruktur

            row.appendChild(idCell);
            row.appendChild(nameCell);
            // Weitere Zellen zur Zeile hinzuf端gen

            tableBody.appendChild(row);
        });
    }

    const xhr = new XMLHttpRequest();
    const url = 'http://localhost:8080/api/all';

    xhr.onreadystatechange = function () {
        if (xhr.readyState === XMLHttpRequest.DONE) {
            if (xhr.status === 200) {
                const responseData = JSON.parse(xhr.responseText);
                createTable(responseData);
            } else {
                console.error('Fehler beim Laden der Daten.');
            }
        }
    };

    xhr.open('GET', url, true);
    xhr.send();
</script>
</body>
</html>
